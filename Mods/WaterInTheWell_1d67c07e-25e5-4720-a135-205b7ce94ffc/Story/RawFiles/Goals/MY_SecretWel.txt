Version 1
SubGoalCombiner SGC_AND
INITSECTION
DB_ShovelArea(TRIGGERGUID_S_SecretWell_Box_add32a6d-3178-4e36-92f2-ccd308a2518e,"CoS_Temples_SecretTunnel_Hole",ITEMGUID_S_SecretWell_DirtPile_585f21e7-dc9e-46e6-8209-7f7a2d345b5d);
DB_ShovelRewardItemSpawn("CoS_Temples_SecretTunnel_Hole",ITEMGUID_SecretWellEntrance_C_000_debb06c3-8bf8-4114-879e-acf76aaa7fd3);
DB_OneShotPlayerTrigger(TRIGGERGUID_BoxTrigger_OneShot_Wel_4f143454-54d5-46db-ba0f-e9aab17a79db);

KBSECTION
//In vicinity
//Add npc to player and make him dead (since that will trigger respawnable ghost effect)

IF
CharacterLootedCharacterCorpse(_Player, CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1)
AND
DB_IsPlayer(_Player)
THEN
CloseUI(_Player, "Container");
CharacterResurrect((CHARACTERGUID)CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1);

IF
CharacterResurrected(CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1)
AND
DB_IsPlayer(_Player)
THEN
FadeOutBlack((CHARACTERGUID)_Player, 3.0, "ElseFadeOut");

IF
FadeDone(_, "ElseFadeOut")
AND
DB_IsPlayer(_Player)
AND
CharacterGetReservedUserID(CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1, _ElieId)
AND
CharacterGetReservedUserID(_Player, _PlayerId)
THEN
CharacterRecruitCharacter(CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1, _Player);
AddToParty(_ElieId, _PlayerId);
CharacterAddToPlayerCharacter(CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1, _Player);
//Stops playing the torture sounds
SetOnStage(TRIGGERGUID_PointTrigger_TortureSounds_735133eb-b191-47f3-b043-bf74badfaa17, 0);
SetOnStage(TRIGGERGUID_PointTrigger_TortureSounds_000_c00e7971-28e3-45e6-b7f7-a6832c3f8c5f, 0);
ApplyDamage((CHARACTERGUID)CHARACTERGUID_Elie_Dead_c0481cce-ac8e-4507-99b5-8c962c3a66d1, 666666, "Physical");
ProcObjectTimer(_Player, "KilledDelay", 3000);

PROC
ProcObjectTimerFinished(_Player, "KilledDelay")
AND
DB_IsPlayer((CHARACTERGUID)_Player)
THEN
FadeIn((CHARACTERGUID)_Player, 3.0, "ElseFadeOut");
DisplayText(_Player, "Else!");

PROC
ProcOneShotTriggerEntered(_Player, TRIGGERGUID_BoxTrigger_OneShot_Wel_4f143454-54d5-46db-ba0f-e9aab17a79db)
THEN
DisplayText(_Player, "Ummm, triggers!");
//ProcObjectTimer(_Player, "KilledDelay", 10000);

//PROC
//ProcObjectTimerFinished(_Player, "KilledDelay")
//AND
//DB_IsPlayer((CHARACTERGUID)_Player)
//THEN
//DisplayText(_Player, "Ummm, the Well!"); 
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "__Start"
